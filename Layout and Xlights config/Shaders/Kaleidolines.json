{"working":false,"featured":false,"private":false,"stars":["608bf3c2d4849b0013135de8","60c1b13cdf59c70014cdc6d6","622d874b7917e400140734f7","625d52557917e400140a305a","62fba7a8ad0a68001afa5860","6371572bd12ead001af9844d","617c88a2f4fe08001a0a62e1","6477c7f9454380001a9c2e71","6488f75da58c94001acb4386","644d325e454380001a99e411","64bbf2515913c5001a3faeee","666c5e8ad15e30001ba10abc","602c3332df59c70014cdc565","677dde662909a9001a0185c6"],"images":[],"categories":["5e7a80dd7c113618206df0a6"],"publicCategories":["Generator"],"privateCategories":[],"_id":"6075c507d4849b0013135dad","title":"Kaleidolines","rawFragmentSource":"// Duplicated to get an image for xLights\n\n// SaturdayShader Week 34 : Kaleidolines\n// Joseph Fiola (http://www.joefiola.com)\n// 2016-04-09\n\n// Based on Shadertoy created by Vinicius Graciano Santos - vgs/2014\n// https://www.shadertoy.com/view/lsBSDz\n\n/*{\n\t\"CREDIT\": \"\",\n\t\"DESCRIPTION\": \"\",\n\t\"CATEGORIES\": [\n\t\t\"Generator\"\n\t],\n\t\"INPUTS\": [\n\t\t{\n\t\t\t\"NAME\": \"invert\",\n\t\t\t\"TYPE\": \"bool\",\n\t\t\t\"DEFAULT\" : \"1\"\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"zoom\",\n\t\t\t\"TYPE\": \"float\",\n\t\t\t\"DEFAULT\": 2.0,\n\t\t\t\"MIN\": 0.25,\n\t\t\t\"MAX\": 20.0\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"rotateCanvas\",\n\t\t\t\"TYPE\": \"float\",\n\t\t\t\"DEFAULT\": 0.0,\n\t\t\t\"MIN\": 0.0,\n\t\t\t\"MAX\": 1.0\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"rotateLines\",\n\t\t\t\"TYPE\": \"float\",\n\t\t\t\"DEFAULT\": 0.0,\n\t\t\t\"MIN\": 0.0,\n\t\t\t\"MAX\": 1.0\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"lineThickness\",\n\t\t\t\"TYPE\": \"float\",\n\t\t\t\"DEFAULT\": 0.5,\n\t\t\t\"MIN\": 0.1,\n\t\t\t\"MAX\": 20.0\n\t\t},\n\t\t\n\t\t{\n\t\t\t\"NAME\": \"lineLength\",\n\t\t\t\"TYPE\": \"float\",\n\t\t\t\"DEFAULT\": 1.0,\n\t\t\t\"MIN\": 0.05,\n\t\t\t\"MAX\": 10.0\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"lines1\",\n\t\t\t\"TYPE\": \"float\",\n\t\t\t\"DEFAULT\": 10.0,\n\t\t\t\"MIN\": 1.0,\n\t\t\t\"MAX\": 10.0\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"lines2\",\n\t\t\t\"TYPE\": \"float\",\n\t\t\t\"DEFAULT\": 10.0,\n\t\t\t\"MIN\": 1.0,\n\t\t\t\"MAX\": 10.0\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"offset\",\n\t\t\t\"TYPE\": \"float\",\n\t\t\t\"DEFAULT\": 0.0,\n\t\t\t\"MIN\": -2.0,\n\t\t\t\"MAX\": 2.0\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"motion\",\n\t\t\t\"TYPE\": \"float\",\n\t\t\t\"DEFAULT\": 0.25,\n\t\t\t\"MIN\": 0.0,\n\t\t\t\"MAX\": 1.0\n\t\t},\n\t\t{\n\t\t\t\"NAME\": \"pos\",\n\t\t\t\"TYPE\": \"point2D\",\n\t\t\t\"DEFAULT\": [0.5,0.5],\n\t\t\t\"MIN\":[0.0,0.0],\n\t\t\t\"MAX\":[1.0,1.0]\n\t\t}\n\t]\n}*/\n\n\n#define TAU 6.28318530718\n\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nvec2 tile(vec2 _st, float _zoom){\n  _st *= _zoom;\n  return fract(_st);\n}\n\nfloat segment(vec2 p, vec2 a, vec2 b) {\n    vec2 ab = b - a;\n    vec2 ap = p - a;\n    float k = clamp(dot(ap, ab)/dot(ab, ab), 0.0, lineLength);\n    return smoothstep(0.0, 0.003 + lineThickness/RENDERSIZE.y, length(ap - k*ab) - (0.001 * lineThickness * 5. ));\n}\n\nfloat shape(vec2 p, float angle) {\n    float d = 100.0;\n    vec2 a = vec2(1.0, 0.0), b;\n    vec2 rot = vec2(cos(angle), sin(angle));\n    \n    for (int i = 0; i < 10; ++i) {\n    \t        a = a + offset;\n    \tif (i >= int(lines1)) break;\n        b = a;\n        for (int j = 0; j < 10; ++j) {\n        \tif (j >= int(lines2)) break;\n        \tb = vec2(b.x*rot.x - b.y*rot.y, b.x*rot.y + b.y*rot.x);\n        \tp = rotate2d(rotateLines* -TAU) * p;\n        \td = min(d, segment(p,  a, b));\n        }\n        a = vec2(a.x*rot.x - a.y*rot.y, a.x*rot.y + a.y*rot.x);\n\n    }\n    return d;\n}\n\nvoid main() {\n\n    vec2 uv = gl_FragCoord.xy / RENDERSIZE.xy;\n    uv -= vec2(pos);\n\tuv.x *= RENDERSIZE.x/RENDERSIZE.y;\n\tuv = rotate2d(rotateCanvas *-TAU) * uv;\n\tuv *= zoom;\n        \n    float col = shape(abs(uv), cos((motion * TAU * (TIME*0.05))));\n    \n    if  (invert) col = col *-1.0 + 1.0;\n    \n    gl_FragColor = vec4(vec3(col), 1.0);\n}","rawVertexSource":"\nvoid main() {\n  isf_vertShaderInit();\n}\n","description":"","scale":1,"user":{"_id":"6074d2d9d4849b0013135daa","username":"xLights","name":"xLghts repairs","id":"6074d2d9d4849b0013135daa"},"username":"xLights","createdAt":"2021-04-13T16:21:27.041Z","updatedAt":"2025-06-28T20:03:10.684Z","__v":2,"thumbnailCloudinaryId":"g4ph5euqqqxqrfgcxd10","id":"6075c507d4849b0013135dad"}